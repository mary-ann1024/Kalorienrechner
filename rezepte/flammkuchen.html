<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <link rel="icon" href="../img/icon.png" type="image/png">
    <title>Selbstgemachter Flammkuchen - Kalorienrechner</title>
</head>
<body>
    <div class="navigation">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../taeglich.html">Täglich</a></li>
            <li><a class="active" href="../rezepteLi.html">Rezepte</a></li>
            <li><a href="../bedarf.html">Bedarf</a></li>
        </ul>
    </div>
    <div class="rezepte">
        <ul>Neues Rezept
            <li>
                <div class="tooltip">
                    <a href="../idee.html">Rezept zusammenstellen (kochen)</a>
                    <br>
                    <a href="../ideeBacken.html">Rezept zusammenstellen (backen)</a>
                </div>
            </li>
        </ul>
        <ul>Kochen            
            <li>mit Teig
                <br>
                <div class="tooltip">
                    <a href="pizza.html">Selbstgemachte Pizza</a>
                    <span class="tooltiptext">2 Stück = ca. 860 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a class="click" href="flammkuchen.html">Selbstgemachter Flammkuchen</a>
                    <span class="tooltiptext">4 Stück = ca. 760 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="wraps.html">Selbstgemachte Wraps</a>
                    <span class="tooltiptext">2 Stück = ca. 581 kcal</span>
                </div>
            </li>

            <li>Aufläufe
                <br>
                <div class="tooltip">
                    <a href="lasagne.html">Lasagne Bolognese</a>
                    <span class="tooltiptext">1/6 Auflauf = ca. 828 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="lisasauflauf.html">Lisa's Lieblingsauflauf</a>
                    <span class="tooltiptext">1/4 Auflauf = ca. 841 kcal</span>
                </div>
            </li>

            <li>Nudelgerichte
                <br>
                <div class="tooltip">
                    <a href="bolognese.html">Spaghetti Bolognese</a>
                    <span class="tooltiptext">1/4 Gericht = ca. 898 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="carbonara.html">Spaghetti Carbonara</a>
                    <span class="tooltiptext">1/3 Gericht = ca. 734 kcal</span>
                </div>
            </li>

            <li>Reisgerichte
                <br>
                <div class="tooltip">
                    <a href="lachsgratin.html">Lachs-Gratin</a>
                    <span class="tooltiptext">1/2 Gericht = ca. 865 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="hähnchencurry.html">Hähnchen Curry</a>
                    <span class="tooltiptext">1/2 Gericht = ca. 821 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="butterchicken.html">Butter Chicken</a>
                    <span class="tooltiptext">1/2 Gericht = ca. 786 kcal</span>
                </div>
            </li>

            <li>Kartoffelgerichte
                <br>
                <div class="tooltip">
                    <a href="bratkartoffeln.html">Bratkartoffeln</a>
                    <span class="tooltiptext">1/2 Gericht = ca. 878 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="kartoffelnSteak.html">Kartoffeln mit Steak</a>
                    <span class="tooltiptext">1/2 Gericht = ca. 825 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="kartoffelnHähnchen.html">Kartoffeln mit Hähnchen</a>
                    <span class="tooltiptext">1/2 Gericht = ca. 902 kcal</span>
                </div>
            </li>

            <li>Suppen
                <br>
                <div class="tooltip">
                    <a href="tomatensuppe.html">Tomatensuppe</a>
                    <span class="tooltiptext">1/2 Gericht = ca. 523 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="kürbissuppe.html">Kürbissuppe</a>
                    <span class="tooltiptext">1/3 Gericht = ca. 665 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="nudelsuppe.html">Oma's Nudelsuppe</a>
                    <span class="tooltiptext">1 Gericht = ca. 713 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="käselauchsuppe.html">Käselauchsuppe</a>
                    <span class="tooltiptext">1/3 Gericht = ca. 710 kcal</span>
                </div>
            </li>

            <li>Desserts
                <br>
                <div class="tooltip">
                    <a href="apfelgrütze.html">Apfelgrütze mit Vanillesoße</a>
                    <span class="tooltiptext">1 Portion = ca. 278 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="paradiesSchoko.html">Pradies Creme Schoko</a>
                    <span class="tooltiptext">1 Portion = ca. 167 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="erdbeerenVanille.html">Erdbeeren und Vanillepudding</a>
                    <span class="tooltiptext">1 Portion = ca. 190 kcal</span>
                </div>
            </li>
        </ul>

        <ul>Backen
            <li>Brot
                <br>
                <div class="tooltip">
                    <a href="landkruste.html">Landkruste</a>
                    <span class="tooltiptext">1 Scheibe = ca. 76 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="joghurtkruste.html">Joghurtkruste</a>
                    <span class="tooltiptext">1 Scheibe = ca. 122 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="weltmeister.html">Weltmeisterbrot</a>
                    <span class="tooltiptext">1 Scheibe = ca. 125 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="dinkelvollkorn.html">Dinkel-Vollkornbrot</a>
                    <span class="tooltiptext">1 Scheibe = ca. 111 kcal</span>
                </div>
            </li>

            <li>Waffeln & Muffins
                <br>
                <div class="tooltip">
                    <a href="waffeln.html">Selbstgemachte Waffeln</a>
                    <span class="tooltiptext">1 Waffel = ca. 261 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="zitronenmuffin.html">Zitronenmuffins</a>
                    <span class="tooltiptext">1 Muffin = ca. 266 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="schokomuffin.html">Mama's Schokostreuselmuffins</a>
                    <span class="tooltiptext">1 Muffin = ca. 323 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="oreomuffins.html">Oreo-Cupcakes</a>
                    <span class="tooltiptext">1 Cupcake = ca. 470 kcal</span>
                </div>
            </li>

            <li>Kuchen
                <br>
                <div class="tooltip">
                    <a href="apfelkuchenVanille.html">Apfelstreuselkuchen mit Vanillepudding</a>
                    <span class="tooltiptext">1 Stück = ca. 346 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="apfelkuchenBlech.html">Apfelkuchen vom Blech</a>
                    <span class="tooltiptext">1 Stück = ca. 266 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="käsekuchen.html">Käsekuchen</a>
                    <span class="tooltiptext">1 Stück = ca. 402 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="mandarinenschmand.html">Mandarinen-Schmand Kuchen</a>
                    <span class="tooltiptext">1 Stück = ca. 289 kcal</span>
                </div>
            </li>

            <li>Kekse
                <br>
                <div class="tooltip">
                    <a href="plätzchen.html">Butterplätzchen</a>
                    <span class="tooltiptext">1 Stück = ca. 66 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="vanillekipferl.html">Vanillekipferl</a>
                    <span class="tooltiptext">1 Stück = ca. 78 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="zimtsterne.html">Zimtsterne</a>
                    <span class="tooltiptext">1 Stück = ca. 71 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="schokoSpritz.html">Schoko Spritzgebäck</a>
                    <span class="tooltiptext">1 Stück = ca. 89 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="marzipanSpritz.html">Marzipan Spritzgebäck</a>
                    <span class="tooltiptext">1 Stück = ca. 89 kcal</span>
                </div>
                <br>
                <div class="tooltip">
                    <a href="haferkekse.html">Haferkekse</a>
                    <span class="tooltiptext">1 Stück = ca. 48 kcal</span>
                </div>
            </li>
        </ul>
    </div>

    <div class="context">

        <div class="title">
            <h1>Selbstgemachter Flammkuchen</h1>
            <p>Das Rezept ist für ein Blech.</p>
            <p>Elsässer: 1 Stück = ca. 455 kcal. 4 Stück = ca. 1.820 kcal (Portion pro Person).</p>
            <p>Fertigteig: 1 Stück = ca. 190 kcal. 4 Stück = ca. 760 kcal (Portion pro Person).</p>
            <img src="../img/flammkuchen.jpg" alt="Flammkuchen" width="513" height="342">
            <h2>Trage die Kalorienangaben pro 100g (oder ml) ein oder wie viel Stück du genommen hast</h2>
        </div>
        
        <div>
            <fieldset class="feld">
                <legend><h3>Teig</h3></legend>
                <div>
                    <label>
                        450g Mehl:
                        <input type="text" data-lebensmittel="mehl" placeholder="364kcal/100g"/>
                        <span class="kcalOutput" data-output="mehl">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        5 EL (75ml) Olivenöl:
                        <input type="text" data-lebensmittel="öl" placeholder="5 EL"/>
                        <span class="kcalOutput" data-output="öl">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        2 Eigelb:
                        <input type="text" data-lebensmittel="eier" placeholder="2 Stück"/>
                        <span class="kcalOutput" data-output="eier">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        2 Prisen (0,8g) Salz:
                        <input type="text" data-lebensmittel="salz" placeholder="2 Prisen"/>
                        <span class="kcalOutput" data-output="salz">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        200ml Wasser (lauwarm):
                        <input type="text" data-lebensmittel="wasser" placeholder="200ml"/>
                        <span class="kcalOutput" data-output="wasser">0</span> kcal
                    </label>
                </div>
                <p style="font-size: 14pt; font-weight: bold;">Elsässer Art</p>
                <div>
                    <label>
                        200g Schmand:
                        <input type="text" data-lebensmittel="schmand1" placeholder="241kcal/100g"/>
                        <span class="kcalOutput" data-output="schmand1">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        250g Magerquark:
                        <input type="text" data-lebensmittel="quark" placeholder="142kcal/100g"/>
                        <span class="kcalOutput" data-output="quark">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        2 Zwiebeln (170g):
                        <input type="text" data-lebensmittel="zwiebeln" placeholder="170g"/>
                        <span class="kcalOutput" data-output="zwiebeln">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        150g Speckwürfel:
                        <input type="text" data-lebensmittel="speck1" placeholder="246kcal/100g"/>
                        <span class="kcalOutput" data-output="speck1">0</span> kcal
                    </label>
                </div>
                <p style="font-size: 14pt; font-weight: bold;">gekaufter Teig</p>
                <div>
                    <label>
                        260g Flammkuchenteig:
                        <input type="text" data-lebensmittel="teig" placeholder="264kcal/100g"/>
                        <span class="kcalOutput" data-output="teig">0</span> kcal
                    </label>
                </div>
                <p style="font-size: 14pt; font-weight: bold;">Belag</p>
                <div>
                    <label>
                        1 Stange Lauch (150g):
                        <input type="text" data-lebensmittel="lauch" placeholder="150g"/>
                        <span class="kcalOutput" data-output="lauch">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        200g Schmand:
                        <input type="text" data-lebensmittel="schmand2" placeholder="241kcal/100g"/>
                        <span class="kcalOutput" data-output="schmand2">0</span> kcal
                    </label>
                </div>
                <div>
                    <label>
                        125g Speckwürfel:
                        <input type="text" data-lebensmittel="speck2" placeholder="246kcal/100g"/>
                        <span class="kcalOutput" data-output="speck2">0</span> kcal
                    </label>
                </div>
                <div class="gesamt">
                    Gesamtkalorien: <span class="gesamtKcal">0</span> kcal
                </div>
                <p></p>
                <button class="berechnenButton">Kalorien berechnen</button>
                <button class="resetButton">Refresh</button>
            </fieldset>
        </div>

        <p>_______________________________________________________________</p>
    
        <div>
            <fieldset class="feld">
                <legend><h3>Stück</h3></legend>
                <div>
                    <label>
                        Kalorien insg.:
                        <input type="text" data-lebensmittel="gesKalorien" placeholder="3639.80kcal/Teig"/>
                    </label>
                </div>
                <div>
                    <label>
                        Stück insg.:
                        <input type="text" data-lebensmittel="gesStück" placeholder="8 Stück"/>
                    </label>
                </div>
                <div class="gesamt">
                    Kalorien pro Stück: <span class="kcalStück">0</span> kcal
                </div>
                <p></p>
                <button class="berechnenButton">Stück berechnen</button>
                <button class="resetButton">Refresh</button>
            </fieldset>
        </div>
    </div>

    <script>
        //Lebensmittel-Datenbank (Mengenangaben pro Lebensmittel)
        const lebensmittel = {
            mehl: 450,
            öl: 12420,
            eier: 6700,
            salz: 0,
            wasser: 0,
            schmand1: 200,
            quark: 250,
            zwiebeln: 24,
            speck1: 150,
            teig: 260,
            lauch: 29,
            schmand2: 200,
            speck2: 125
        };

        //Funktion zur Berechnung Bereich: Teig
        function berechneKalorien(container) {
            //Variable für Gesamtkalorien (startet bei 0)
            let gesamtKcal = 0;

            //Alle Eingabefelder (inputs) durchlaufen
            const inputs = container.querySelectorAll('[data-lebensmittel]');
            inputs.forEach(input => {
                const name = input.dataset.lebensmittel; // Lebensmittelname
                const kcal = parseFloat(input.value) || 0; // Nutzereingabe: Kalorien pro 100g Lebensmittel
                const gramm = lebensmittel[name]; // Gramm pro Lebensmittel
                const kcalPortion = (kcal / 100) * gramm; // Kalorien für die angegebene Menge

                //Gesamtkalorien berechnen
                gesamtKcal += kcalPortion;

                //Berechnete Werte anzeigen
                container.querySelector(`[data-output="${name}"]`).textContent = kcalPortion.toFixed(2);
            });

            //Gesamtkalorien im aktuellen Container ausgeben
            const gesamtKcalElement = container.querySelector('.gesamtKcal');
            if (gesamtKcalElement) {
                gesamtKcalElement.textContent = gesamtKcal.toFixed(2);
            }
        }

        //Funktion zum Zurücksetzen Bereich: Teig
        function resetForm(container) {

            //Für Eingabefelder (inputs)
            const inputs = container.querySelectorAll('[data-lebensmittel]');
            inputs.forEach(input => input.value = '');

            //Für berechnete Werte (outputs)
            const outputs = container.querySelectorAll('.kcalOutput, .kcalStück');
            outputs.forEach(output => output.textContent = '0');

            //Gesamtkalorien im Container zurücksetzen
            const gesamtKcalElement = container.querySelector('.gesamtKcal');
            if (gesamtKcalElement) {
                gesamtKcalElement.textContent = '0';
            }
        }

        //Funktion zur Berechnung Bereich: Stück
        function berechneScheiben(container) {
            //Eingabefelder auslesen
            const kalorien = parseFloat(container.querySelector('[data-lebensmittel="gesKalorien"]').value) || 0;
            const stück = parseFloat(container.querySelector('[data-lebensmittel="gesStück"]').value) || 0;

            //Berechnung
            const kcalProStück = kalorien / stück || 0;

            //Berechnete Werte anzeigen
            container.querySelector('.kcalStück').textContent = kcalProStück.toFixed(2);
        }

        //Event-Deglaration: Event-Listener für Klick innerhalb <body>
        document.body.addEventListener('click', (event) => {

            //Event für Berechnen-Button
            if (event.target.matches('.berechnenButton')) {
                const container = event.target.closest('fieldset');
                
                //Berechnen-Button Bereich: Stück
                if (container.querySelector('[data-lebensmittel="gesKalorien"]')) {
                    berechneScheiben(container);

                //Berechnen-Button Bereich: Teig
                } else {
                    berechneKalorien(container);
                }
            }
        
            //Event für Reset-Button
            if (event.target.matches('.resetButton')) {
                const container = event.target.closest('fieldset');
                resetForm(container); //Funktion Zurücksetzen Bereich: Teig
            }
        });

    </script>
</body>